import{r as i,k as b,h as u,a as n,o as r,b as t,f as x,w as y,v as g,t as v,F as w,e as k}from"./app-xZFo10Vc.js";const C={class:"mb-4"},R={key:0},E={key:1,class:"text-gray-500"},M={class:"space-y-3"},$={class:"text-gray-800"},j={class:"flex gap-2"},B=["onClick"],N=["onClick"],A={__name:"ResponsesTab",setup(S){const c=i([]),s=i(""),o=i(null),p=i(!0);b(async()=>{await d()});const d=async()=>{try{const e=await u.get("/admin/chatbot/responses");c.value=e.data.responses}catch(e){console.error("Erreur chargement des réponses prédéfinies",e)}finally{p.value=!1}},m=async()=>{if(s.value.trim())try{o.value?await u.put(`/admin/chatbot/responses/${o.value}`,{text:s.value}):await u.post("/admin/chatbot/responses",{text:s.value}),await d(),s.value="",o.value=null}catch(e){console.error("Erreur sauvegarde",e)}},h=e=>{s.value=e.text,o.value=e.id},_=async e=>{confirm("Supprimer cette réponse ?")&&(await u.delete(`/admin/chatbot/responses/${e}`),await d())};return(e,l)=>(r(),n("div",null,[t("div",C,[l[1]||(l[1]=t("label",{class:"font-medium"},"Nouvelle réponse",-1)),y(t("textarea",{"onUpdate:modelValue":l[0]||(l[0]=a=>s.value=a),rows:"2",class:"w-full p-2 border rounded mt-1",placeholder:"Ex: Pour contacter un coach, cliquez sur le bouton support..."},null,512),[[g,s.value]]),t("button",{onClick:m,class:"mt-2 px-4 py-2 bg-blue-600 text-white rounded"},v(o.value?"Mettre à jour":"Ajouter"),1)]),p.value?(r(),n("div",R,"Chargement...")):c.value.length===0?(r(),n("div",E,"Aucune réponse enregistrée.")):x("",!0),t("ul",M,[(r(!0),n(w,null,k(c.value,a=>(r(),n("li",{key:a.id,class:"border p-3 rounded flex justify-between items-center"},[t("span",$,v(a.text),1),t("div",j,[t("button",{onClick:f=>h(a),class:"text-blue-600 hover:underline"},"Modifier",8,B),t("button",{onClick:f=>_(a.id),class:"text-red-600 hover:underline"},"Supprimer",8,N)])]))),128))])]))}};export{A as default};
