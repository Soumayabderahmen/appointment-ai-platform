import{_ as c,a as o,o as r,b as e,g as l,w as u,v,F as h,e as p,t as d}from"./app-xZFo10Vc.js";const m={name:"Publication",props:{fundings:{type:Array,required:!0,default:()=>[]}},methods:{formatDate(a){return a?new Date(a).toLocaleDateString("fr-FR"):"-"},editFunding(a){window.location.href=`/admin/fundings/${a}/edit`},async deleteFunding(a){if(confirm("Voulez-vous vraiment supprimer ce financement ?"))try{await axios.delete(`/api/fundings/${a}`),this.$emit("deleted",a)}catch(s){console.error("Erreur lors de la suppression:",s)}}}},_={class:"resources-table-responsive"},b={class:"row filters mb-4 mx-3"},f={class:"col-lg-8 col-md-8 col-sm-8 col-12 d-lg-flex d-md-flex d-sm-flex d-block justify-content-start align-items-center"},k={class:"search-container me-3"},w={class:"custom-search-frame"},g={class:"search-input-wrapper"},y={key:0,class:"empty-state"},x={key:1,class:"resources-grid"},C={class:"card-content"},j={class:"resource-title"},D={class:"resource-operator"},M={class:"resource-description"},F={class:"resource-amount"},B={key:0},V={key:1},A={class:"resource-date"},$={class:"resource-actions"},I=["onClick"];function L(a,s,i,N,R,n){return r(),o("div",_,[e("div",b,[e("div",f,[e("div",k,[e("div",w,[e("div",g,[s[2]||(s[2]=e("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7.33333 12.6667C10.2789 12.6667 12.6667 10.2789 12.6667 7.33333C12.6667 4.38781 10.2789 2 7.33333 2C4.38781 2 2 4.38781 2 7.33333C2 10.2789 4.38781 12.6667 7.33333 12.6667Z",stroke:"rgba(0, 0, 0, 0.49)","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M14 14L11.1 11.1",stroke:"rgba(0, 0, 0, 0.49)","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),u(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>a.searchQuery=t),onInput:s[1]||(s[1]=(...t)=>a.searchResources&&a.searchResources(...t)),class:"custom-search-input",placeholder:"Chercher"},null,544),[[v,a.searchQuery]])])])])]),s[3]||(s[3]=l('<div class="col-lg-4 col-md-4 col-sm-4 col-12 d-lg-flex d-md-flex d-sm-flex d-block justify-content-end align-items-center" data-v-33235ba3><a href="/admin/addInvestisseurs" class="primary-button" style="text-decoration:none;" data-v-33235ba3><div class="button" data-v-33235ba3>Ajouter une publication</div><svg class="heroicons-outlineplus-circle" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-33235ba3><path d="M10 4.16667V15.8333" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-33235ba3></path><path d="M4.16667 10H15.8333" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-33235ba3></path><path d="M10 18.3333C14.6024 18.3333 18.3333 14.6024 18.3333 10C18.3333 5.39763 14.6024 1.66667 10 1.66667C5.39763 1.66667 1.66667 5.39763 1.66667 10C1.66667 14.6024 5.39763 18.3333 10 18.3333Z" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-33235ba3></path></svg></a></div>',1))]),s[5]||(s[5]=l('<div class="table-headers" data-v-33235ba3><div class="header-row" data-v-33235ba3><div class="header-cell header-nom" data-v-33235ba3>Nom</div><div class="header-cell header-operator" data-v-33235ba3>Opérateur</div><div class="header-cell header-description" data-v-33235ba3>Description</div><div class="header-cell header-amount" data-v-33235ba3>Montant</div><div class="header-cell header-date" data-v-33235ba3>Date de création</div><div class="header-cell header-action" data-v-33235ba3>Action</div></div></div>',1)),i.fundings.length===0?(r(),o("div",y,s[4]||(s[4]=[e("p",{class:"empty-message"},"Aucun financement disponible",-1)]))):(r(),o("div",x,[(r(!0),o(h,null,p(i.fundings,t=>(r(),o("div",{key:t.id,class:"resource-card"},[e("div",C,[e("div",j,d(t.title),1),e("div",D,d(t.operator),1),e("div",M,d(t.description?t.description.slice(0,60)+"…":"-"),1),e("div",F,[t.amount_max?(r(),o("span",B,d(t.amount_min?t.amount_min+" € - ":"")+d(t.amount_max)+" € ",1)):(r(),o("span",V,"-"))]),e("div",A,d(n.formatDate(t.created_at)),1),e("div",$,[e("button",{class:"btn btn-sm btn-danger",onClick:S=>n.deleteFunding(t.id)}," Supprimer ",8,I)])])]))),128))]))])}const Q=c(m,[["render",L],["__scopeId","data-v-33235ba3"]]);export{Q as default};
