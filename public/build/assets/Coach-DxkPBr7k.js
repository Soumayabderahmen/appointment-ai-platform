import{r as v,c as g,a as l,o as a,b as e,w as C,v as E,d as B,F as p,e as h,t as i,f as _,g as A,n as k,h as L,l as M}from"./app-xZFo10Vc.js";const S={class:"px-6 pb-4 flex justify-between items-center"},V={class:"col-lg-8 col-md-8 col-sm-8 col-12 d-lg-flex d-md-flex d-sm-flex d-block justify-content-start align-items-center"},D={class:"input-group me-8 mb-4",style:{width:"247px"}},$={class:"d-lg-flex d-md-flex d-sm-flex d-block"},N=["value"],P={class:"text-sm text-gray-500 ml-4"},T={class:"card-body"},U={class:"flex flex-col gap-4 mt-4"},z={class:"w-10 h-6 rounded-full bg-gray-100 flex items-center justify-center text-lg font-bold text-gray-700"},I={class:"w-1/5 text-center text-[#0093EE] font-medium"},q={class:"w-1/5 text-center text-[#0093EE]"},R={class:"w-1/5 text-center text-[#0093EE]"},Z={class:"w-1/5 text-center"},G={class:"w-1/5 text-center"},H=["onClick"],J={key:1,class:"text-gray-500"},K={key:0,class:"bg-white rounded-xl p-6 text-center shadow"},O={key:0,class:"flex justify-center items-center gap-4 mt-6",style:{"margin-left":"992px","margin-top":"43px"}},Q=["disabled"],W={class:"flex items-center gap-3 text-sm"},X=["onClick"],Y=["disabled"],f=4,st={__name:"Coach",props:{coaches:Array},setup(j){const c=v([...j.coaches]),r=v(""),d=v(1),u=v(""),m=g(()=>c.value.filter(o=>{var n,y;const s=!r.value||((n=o.email)==null?void 0:n.toLowerCase().includes(r.value.toLowerCase()))||((y=o.name)==null?void 0:y.toLowerCase().includes(r.value.toLowerCase())),t=!u.value||o.statut===u.value;return s&&t})),x=g(()=>Math.ceil(m.value.length/f)),w=g(()=>{const o=(d.value-1)*f;return m.value.slice(o,o+f)}),b=o=>{o>=1&&o<=x.value&&(d.value=o)},F=o=>{L.post(`/api/admin/activation/${o}/coach`).then(s=>{console.log(s.data);const t=c.value.findIndex(n=>n.id==o);console.log("coachIndex:",t),t!==-1&&(c.value[t].statut="active"),M.success(s.data.message||"Coach activated successfully")}).catch(s=>{var t,n;console.error(s),M.error(((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to activate coach")})};return(o,s)=>(a(),l(p,null,[e("div",S,[e("div",V,[e("div",D,[s[4]||(s[4]=e("span",{class:"input-group-text"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none"},[e("path",{d:"M17.8749 18L12.4244 12.3333M1.52344 7.61111C1.52344 8.47929 1.68792 9.33898 2.00748 10.1411C2.32705 10.9432 2.79544 11.672 3.38592 12.2859C3.9764 12.8998 4.6774 13.3867 5.4489 13.719C6.22039 14.0512 7.04728 14.2222 7.88234 14.2222C8.71741 14.2222 9.54429 14.0512 10.3158 13.719C11.0873 13.3867 11.7883 12.8998 12.3788 12.2859C12.9692 11.672 13.4376 10.9432 13.7572 10.1411C14.0768 9.33898 14.2412 8.47929 14.2412 7.61111C14.2412 6.74293 14.0768 5.88325 13.7572 5.08115C13.4376 4.27905 12.9692 3.55025 12.3788 2.93635C11.7883 2.32245 11.0873 1.83548 10.3158 1.50324C9.54429 1.171 8.71741 1 7.88234 1C7.04728 1 6.22039 1.171 5.4489 1.50324C4.6774 1.83548 3.9764 2.32245 3.38592 2.93635C2.79544 3.55025 2.32705 4.27905 2.00748 5.08115C1.68792 5.88325 1.52344 6.74293 1.52344 7.61111Z",stroke:"#C6C6C6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),C(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>r.value=t),type:"text",class:"form-control",placeholder:"Rechercher"},null,512),[[E,r.value]])]),e("div",$,[C(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),class:"form-select mb-4 me-8",style:{"border-radius":"15px",background:"var(--Color, #fff)","box-shadow":"10px 8px 20px 0px rgba(0, 81, 131, 0.25)",padding:"13px 35px",width:"180px"}},[s[5]||(s[5]=e("option",{value:""},"üïí Statut",-1)),(a(!0),l(p,null,h([...new Set(c.value.map(t=>t.statut))],t=>(a(),l("option",{key:t,value:t},i(t),9,N))),128))],512),[[B,u.value]])])]),e("span",P,i(m.value.length)+" r√©sultat(s)",1)]),e("div",T,[e("div",U,[s[7]||(s[7]=A('<div class="flex items-center px-6 py-3 font-semibold text-sm rounded-[12px]"><div class="w-1/5 text-center text-[#005183]"><b>Nom</b></div><div class="w-1/5 text-center text-[#005183]"><b>Email</b></div><div class="w-1/5 text-center text-[#005183]"><b>Visibilit√©</b></div><div class="w-1/5 text-center text-[#005183]"><b>Statut</b></div><div class="w-1/5 text-center text-[#005183]"><b>Action</b></div></div>',1)),(a(!0),l(p,null,h(w.value,t=>(a(),l("div",{key:t.id,class:"flex items-center justify-between bg-white rounded-xl px-6 py-6 hover:shadow-md transition",style:{height:"70px",background:"var(--Color, #FFF)","box-shadow":"10px 8px 20px 0px rgba(0, 81, 131, 0.25)","border-radius":"15px"}},[e("div",z,i(t.name.charAt(0).toUpperCase()),1),e("div",I,i(t.name),1),e("div",q,i(t.email),1),e("div",R,i(t.specialty),1),e("div",Z,[e("span",{class:k(["px-4 py-1 rounded-full text-sm font-semibold",{"bg-green-100 text-green-800":t.statut==="active","bg-red-100 text-red-800":t.statut==="inactive","bg-yellow-100 text-yellow-800":t.statut!=="active"&&t.statut!=="inactive"}])},i(t.statut),3)]),e("div",G,[t.statut!=="active"?(a(),l("button",{key:0,onClick:n=>F(t.id),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow"}," Activer ",8,H)):(a(),l("span",J,"Activ√©"))])]))),128)),w.value.length===0?(a(),l("div",K,s[6]||(s[6]=[e("div",{class:"flex flex-col items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-lg font-medium"},"Aucun coach trouv√©")],-1)]))):_("",!0)]),x.value>1?(a(),l("div",O,[e("button",{onClick:s[2]||(s[2]=t=>b(d.value-1)),disabled:d.value===1,class:"w-10 h-10 rounded-[10px] border-2 border-[#29B6F6] text-[#0288D1] flex items-center justify-center text-xl font-light shadow-md hover:shadow-lg transition disabled:opacity-40 disabled:cursor-not-allowed"}," < ",8,Q),e("div",W,[(a(!0),l(p,null,h(x.value,t=>(a(),l("button",{key:t,onClick:n=>b(t),class:k(["w-6 h-6 text-center",t===d.value?"text-[#0288D1] font-semibold":"text-gray-400"])},i(t),11,X))),128))]),e("button",{onClick:s[3]||(s[3]=t=>b(d.value+1)),disabled:d.value===x.value,class:"w-10 h-10 rounded-[10px] border-2 border-[#29B6F6] text-[#0288D1] flex items-center justify-center text-xl font-light shadow-md hover:shadow-lg transition disabled:opacity-40 disabled:cursor-not-allowed"}," > ",8,Y)])):_("",!0)])],64))}};export{st as default};
