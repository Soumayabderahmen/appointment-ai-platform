import{y as b,m as y,a as n,o as p,b as o,i as C,f as m,p as k,w as r,v as s,h as w}from"./app-xZFo10Vc.js";const j={class:"mt-3 formulaire"},I={class:"col-12"},x={class:"card card-1"},V={class:"card-body px-lg-4 px-md-3 px-2"},U={class:"bs-stepper wizard-numbered shadow-none mt-2"},_={key:0},N={key:1},P={key:2},D={__name:"CompleterProfileForm",props:{role:{type:String},userInfo:{type:Object}},setup(d){const l=b({diploma:null,competence:"",description:"",profile_image:null,cover_image:null,pdf_document:null,video_presentation:"",website_link:"",social_links:"",logo_startup:null,adresse:"",NameCo_fondateur:"",errors:{}}),u=async()=>{try{let t=new FormData;Object.keys(l).forEach(a=>{t.append(a,l[a])});const e=await w.post("/profile/update",t,{headers:{"Content-Type":"multipart/form-data"}});alert("Profile updated successfully!"),console.log(e.data)}catch(t){console.error("Error updating profile:",t),alert("An error occurred while updating the profile.")}},v=t=>{const e=t.target.files[0];if(!["video/mp4","video/avi","video/quicktime","video/x-matroska"].includes(e.type)){alert("Please upload a valid video file (mp4, avi, mov, mkv).");return}l.video_presentation=e},f=t=>{const e=t.target.files[0];if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp"].includes(e.type)){alert("Please upload a valid image file (jpeg, png, jpg, gif, webp).");return}l.cover_image=e},g=t=>{const e=t.target.files[0];if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp"].includes(e.type)){alert("Please upload a valid image file (jpeg, png, jpg, gif, webp).");return}l.profile_image=e},c=t=>{const e=t.target.files[0];if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp"].includes(e.type)){alert("Please upload a valid image file (jpeg, png, jpg, gif, webp).");return}l.logo_startup=e};return(t,e)=>{const a=y("InputError");return p(),n("div",j,[o("div",I,[o("div",x,[o("div",V,[o("div",U,[o("form",{onSubmit:C(u,["prevent"])},[d.role==="coach"?(p(),n("div",_,[e[8]||(e[8]=o("label",{for:"diploma",value:"diploma justificatif (PDF)"},"Diploma",-1)),o("input",{type:"file",id:"diploma",accept:"application/pdf",onChange:e[0]||(e[0]=i=>l.diploma=i.target.files[0]),class:"form-control"},null,32),k(a,{class:"mt-2",message:l.errors.diploma},null,8,["message"]),e[9]||(e[9]=o("label",{for:"competence"},"Competence",-1)),r(o("textarea",{id:"competence","onUpdate:modelValue":e[1]||(e[1]=i=>l.competence=i),class:"form-control"},null,512),[[s,l.competence]]),e[10]||(e[10]=o("label",{for:"description"},"Description",-1)),r(o("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=i=>l.description=i),class:"form-control"},null,512),[[s,l.description]]),e[11]||(e[11]=o("label",{for:"profile_image"},"Cover Image",-1)),o("input",{type:"file",id:"cover_image",onChange:f,class:"form-control"},null,32),e[12]||(e[12]=o("label",{for:"profile_image"},"profil Image",-1)),o("input",{type:"file",id:"profile_image",onChange:g,class:"form-control"},null,32)])):m("",!0),d.role==="startup"?(p(),n("div",N,[e[13]||(e[13]=o("label",{for:"logo_startup"},"Logo Startup",-1)),o("input",{type:"file",id:"logo_startup",onChange:c,class:"form-control"},null,32),e[14]||(e[14]=o("label",{for:"adresse"},"Adresse",-1)),r(o("textarea",{id:"adresse","onUpdate:modelValue":e[3]||(e[3]=i=>l.adresse=i),class:"form-control"},null,512),[[s,l.adresse]]),e[15]||(e[15]=o("label",{for:"NameCo_fondateur"},"Nom du Co_Fondateur",-1)),r(o("input",{id:"NameCo_fondateur","onUpdate:modelValue":e[4]||(e[4]=i=>l.NameCo_fondateur=i),class:"form-control"},null,512),[[s,l.NameCo_fondateur]])])):m("",!0),d.role==="investisseur"?(p(),n("div",P,[e[16]||(e[16]=o("label",{for:"video_presentation"},"Video Presentation",-1)),o("input",{type:"file",id:"video_presentation",onChange:v,class:"form-control"},null,32),e[17]||(e[17]=o("label",{for:"description"},"Description",-1)),r(o("textarea",{id:"description","onUpdate:modelValue":e[5]||(e[5]=i=>l.description=i),class:"form-control"},null,512),[[s,l.description]]),e[18]||(e[18]=o("label",{for:"website_link"},"Website Link",-1)),r(o("input",{type:"url",id:"website_link","onUpdate:modelValue":e[6]||(e[6]=i=>l.website_link=i),class:"form-control"},null,512),[[s,l.website_link]]),e[19]||(e[19]=o("label",{for:"social_links"},"Social Links (JSON)",-1)),r(o("textarea",{id:"social_links","onUpdate:modelValue":e[7]||(e[7]=i=>l.social_links=i),class:"form-control"},null,512),[[s,l.social_links]]),e[20]||(e[20]=o("label",{for:"profile_image"},"Cover Image",-1)),o("input",{type:"file",id:"cover_image",onChange:f,class:"form-control"},null,32),e[21]||(e[21]=o("label",{for:"profile_image"},"profil Image",-1)),o("input",{type:"file",id:"profile_image",onChange:g,class:"form-control"},null,32)])):m("",!0),e[22]||(e[22]=o("div",{class:"mt-4"},[o("button",{type:"submit",class:"btn btn-primary"},"Save")],-1))],32)])])])])])}}};export{D as default};
